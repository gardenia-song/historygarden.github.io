<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="css/style.css" />
<title>历史苑</title>
</head>
<body>
<div class="wrapin">
  <!--头部-->
  <footer>
    <p><img src="images/logo.png" alt="Logo"></p>
  </footer>
  <div class="banner">
    <div class="box-1">
      <ul>
        <li> <img src="images/banner_1.jpg"></li>
        <li> <img src="images/banner_2.jpg"></li>
        <li> <img src="images/banner_3.jpg"></li>
        <li> <img src="images/banner_4.jpg"></li>
      </ul>
    </div>
    <div class="box-2">
      <ul></ul>
    </div>
    <div class="box-3"> 
      <span class="prev"> &lt; </span> 
      <span class="next"> &gt; </span> 
    </div>
  </div>
  <script>
    const images = document.querySelectorAll('.banner .box-1 li');
    const dots = document.querySelector('.banner .box-2 ul');
    let currentIndex = 0;
  
    // 添加小圆点
    for (let i = 0; i < images.length; i++) {
      const dot = document.createElement('li');
      if (i === 0) {
        dot.classList.add('active');
      }
      dots.appendChild(dot);
    }
  
    // 自动轮播
    setInterval(() => {
      currentIndex = (currentIndex + 1) % images.length;
      showImage(currentIndex);
    }, 3000);
  
    // 显示图片和对应的小圆点
    function showImage(index) {
      images.forEach((image, i) => {
        if (i === index) {
          image.style.display = 'block';
          dots.children[i].classList.add('active');
        } else {
          image.style.display = 'none';
          dots.children[i].classList.remove('active');
        }
      });
    }
  
    // 点击小圆点切换图片
    dots.addEventListener('click', (event) => {
      if (event.target.tagName === 'LI') {
        const index = Array.from(dots.children).indexOf(event.target);
        currentIndex = index;
        showImage(currentIndex);
      }
    });
  
    // 点击左右箭头切换图片
    document.querySelector('.banner .prev').addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage(currentIndex);
    });
  
    document.querySelector('.banner .next').addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % images.length;
      showImage(currentIndex);
    });

// JavaScript代码

window.addEventListener('load', function() {
  var slider = document.querySelector('.slider ul');
  var sliderItems = document.querySelectorAll('.slider li');
  var totalSliderItems = sliderItems.length;
  var currentIndex = 0;
  var slideWidth = sliderItems[0].offsetWidth;
  
  // 设置ul的宽度，使得所有li在一行显示
  slider.style.width = slideWidth * totalSliderItems + 'px';
  
  // 自动滚动
  setInterval(function() {
    currentIndex = (currentIndex + 1) % totalSliderItems;
    slider.style.transform = 'translateX(' + (-slideWidth * currentIndex) + 'px)';
  }, 3000); // 设置滚动间隔时间，单位为毫秒
});

  </script>  
  <header>
    <ul class="nav clearfix">
      <li><a href="index.html">课内历史</a></li>
      <li><a href="tupian.html">历史碎片</a></li>
      <li><a href="juqing.html">趣味历史</a></li>
      <li><a href="jiangjie.html">历史讲解</a></li>
      <li><a href="lianxi.html">联系我们</a></li>
    </ul>
  </header>
  <div>
  
<!-- 内容 -->
<div class="con">
  <div class="tupian">
    <div class="title">
      <h2>历史碎片</h2>
    </div>
    <div class="slider">
      <ul class="clearfix">
        <li><img src="images/1.jpg" alt="Image 1" /></li>
        <li><img src="images/2.jpg" alt="Image 2" /></li>
        <li><img src="images/3.jpg" alt="Image 3" /></li>
        <li><img src="images/4.jpg" alt="Image 4" /></li>
        <li><img src="images/5.jpg" alt="Image 5" /></li>
        <li><img src="images/6.jpg" alt="Image 6" /></li>
        <li><img src="images/7.jpg" alt="Image 7" /></li>
        <li><img src="images/8.jpg" alt="Image 8" /></li>
        <li><img src="images/9.jpg" alt="Image 9" /></li>
      </ul>
    </div>
  </div>
</div>

</div>
    <!--底部-->
    <footer>
      <p><img src="images/logo.png"></p>
    </footer>
</body>
</html>